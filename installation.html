<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>SteadyCellPhenotype</title>
    <meta name="description" content="SteadyCellPhenotype">
    <meta name="author" content="Adam Knapp">
    <meta property="og:image" content="https://steadycellphenotype.github.io/images/logo-black.svg" />
    <meta property="og:description" content="A tool for exploring ternary networks." />
    <meta property="og:site_name" content="SteadyCellPhenotype" />
    <meta property="og:url" content="https://steadycellphenotype.github.io" />
    <link rel="stylesheet" href="w3.css">
    <link rel="icon" href="images/icon.svg" type="image/svg+xml">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
      .skip-link {
          position: absolute;
          top: -40px;
          left: 0;
          background: #000000;
          color: white;
          padding: 8px;
          z-index: 100;
      }
      .skip-link:focus {
          top: 0;
      }
    </style>
  </head>
  <body>
    <a class="skip-link" href="#main">Skip to main</a>
    <header class="w3-container w3-us-blue">
      <img src="images/logo.svg"
           width="384px"
           height="100px"
           style="margin-top: 2pt; margin-bottom: 2pt; max-width: 100%; max-height: 100px"
           alt="SteadyCellPhenotype Logo">
    </header>
    <div class="w3-bar w3-black">
      <a href="index.html" class="w3-bar-item w3-button w3-mobile">Home</a>
      <a href="quickstart.html" class="w3-bar-item w3-button w3-mobile">Quick Start</a>
      <a href="docs.html" class="w3-bar-item w3-button w3-mobile">Documentation</a>
      <a href="installation.html" class="w3-bar-item w3-button w3-mobile">Installation</a>
      <a href="source.html" class="w3-bar-item w3-button w3-mobile">Source</a>
      <a href="about.html" class="w3-bar-item w3-button w3-mobile">About the Authors</a>
    </div>
    <div id="content" class="w3-container w3-mobile" style="margin:auto; width:97%; text-align: justify; text-justify: inter-word;">
      <style>
        p.line_space
        {
            line-height: 1.7;
        }
        
        hr
        {
            display: block;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            margin-left: auto;
            margin-right: auto;
            border: 1px solid #79809B;
        }

        th, td {
            border: 1px solid #ccc;
        }
        
      </style>
      
      <!--- Documentation portion --->
      <main id="main">

        <article>
          <div id="content"
               class="w3-container w3-mobile"
               style="margin:auto; max-width: 1100px; text-align: justify; text-justify: inter-word;">

            <section>
              <h1 id="installation-and-operation">Installation and Operation</h1>

              <p class="line_space">
                The app is implemented in Python 3 with the help of a variety of packages
                including <code>flask</code>, <code>matplotlib</code>, <code>networkx</code>,
                <code>numba</code>, <code>pathos</code>, and <code>attrs</code>.  We have
                released <i>SteadyCellPhenotype</i> as a python package on the
                <a href="https://pypi.org/project/steady-cell-phenotype/">Python Package
                Index</a>. Packages from this repository can be installed using the <code>pip</code>
                package manager via
              </p>
              <pre><code>python -m pip install steady-cell-phenotype</code></pre>
              <p class="line_space">
                Commonly, such as on Mac or Linux-based systems, Python 3.x is installed
                as <code>python3</code> and you will instead need to run
              </p>
              <pre><code>python3 -m pip install steady-cell-phenotype</code></pre>

              <p class="line_space">
                Alternatively, one can install <i>SteadyCellPhenotype</i> from the source on
                github. While in the top directory of the repository, you can
                install <i>SteadyCellPhenotype</i>'s dependencies using, as appropriate, either
              </p>

              <pre><code>python -m pip install -r requirements.txt</code></pre> or
              <pre><code>python3 -m pip install -r requirements.txt</code></pre>
            
              <p class="line_space">
                Then, on Mac or linux, the site can then be started by
              </p>
              <pre><code>./start_scp.sh</code></pre>
              <p class="line_space">
                You can also install SteadyCellPhenotype as a local python package via pip:
              </p>
              <pre><code>python3 -m pip install -e .</code></pre>
              
              <p class="line_space">
                This will add two executables to your path, <code>start_scp.sh</code>
                and <code>scp_converter.py</code>. You can also install SteadyCellPhenotype in a
                virtual environment, see below, which may help with package versioning issues.
              </p>
            
              <p class="line_space">
                Assuming that you are in the top directory of this project. This will open up a web
                server on the loopback address on port 5000. This means that
                <ul>
                  <li>It won’t be accessible to the broader internet and</li>
                  <li>On the same machine, you can point your web browser
                    at <a href="http://localhost:5000">http://localhost:5000</a> and access the site.</li>
                </ul>
              </p>
              
              <p class="line_space">
                The <a href="https://flask.palletsprojects.com/en/2.0.x/">flask documentation</a>
                contains info on how to get SteadyCellPhenotype working for remote users.
              </p>

              <h2 id="using-a-virtual-environment">Using a virtual environment</h2>

              <p class="line_space">
                If you encounter compatibility errors between various python and package versions on
                your computer, it may be useful to create a virtual environment with
                project-specific versions. (e.g. as of this writing there are issues with the
                current versions of numba and python 3.9 on macOS.) To create a virtual environment,
                first find the desired version of python on your machine. (We assume 3.8
                below.) <em>Hint</em>: On macOS and Linux, we can use
              </p>
              <pre><code>find / -name python3.8 2&gt;&amp;1 | grep -v &quot;Permission denied&quot;</code></pre>
            
              <p class="line_space">
                to find all copies of the python 3.8 executable on the system. Then, using the
                desired copy of python, run
              </p>
              <pre><code>/whatever/path/to/python/you/found/python3.8 -m venv stdy-cll-phntyp-venv</code></pre>
              <p class="line_space">
                replacing <code>stdy-cll-phntyp-venv</code> with whatever folder name you desire the
                virtual environment to reside in. (Often we choose <code>venv</code> inside of the
                source directory.) All packages which we install will reside in this directory. Then
                whenever we want to enter the virtual environment, we run
              </p>
              <pre><code>source stdy-cll-phntyp-venv/bin/activate</code></pre>
              <p class="line_space">Now run</p>
              <pre><code>python3 -m pip install -e .</code></pre>
            </section>

            <section>
              <h1 id="command-line-tool-scp_converter.py">The command line
                tool, <code>scp_converter.py</code></h1>
              <p class="line_space">
                In addition to the browser interface, SteadyCellPhenotype provides a command line
                tool: <code>scp_converter.py</code> for advanced users. This tool allows the user to
                perform various transformations to a MAX/MIN/NOT/polynomial model, including:
                <ul>
                  <li>
                    generation of a pure-polynomial model, (i.e. conversion of MAX/MIN/NOT formulae
                    to the corresponding polynomial)
                  </li>
                  <li>
                    conversion of some or all formulae to the corresponding continuous version,
                  </li>
                  <li>
                    generation of a “self-power” of the system,
                    <!-- i.e. <img src="./images/math1.svg" alt="F^n = \underbrace{F \circ \cdots \circ -->
                    <!-- F}_{n}" /> --> suitable for computing cycles as fixed points of the
                    composed system.
                  </li>
                  <li>
                    generation of several C language programs derived from the model:
                    <ul>
                      <li>
                        a simulator which runs the system on a random sample of initial conditions,
                        searching for attractors
                      </li>
                      <li>
                        a simulator which does a complete state space search of the system,
                        searching for attractors
                      </li>
                      <li>
                        a simulator which creates a graph representation of the update function on
                        state space
                      </li>
                    </ul>
                </ul>
              </p>

              <p class="line_space">
                Each of these generated programs can be compiled using recent versions
                of <code>gcc</code> and require the header files (<code>*.h</code>) included in
                the <code>steady_cell_phenotype</code> directory. Output is in JSON format.
              </p>

              <p class="line_space">
                Commands line options for <code>scp_converter.py</code> are shown by
                running <code>scp_converter.py --help</code>
              </p>
            </section>

          </div>
        </article>
        <!--- Documentation portion END --->
        
      </main>

    </div>
    <footer class="w3-container w3-us-red w3-margin-top">
      Copyright 2019-2022, Supported by CAS Mellon Fund, American University
      </footer>
  </body>
</html>

